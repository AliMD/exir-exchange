@layer base {
  @custom-media --medium (min-width: 600px);
  @custom-media --expanded (min-width: 840px);
  @custom-media --large (min-width: 1200px);
  @custom-media --xlarge (min-width: 1600px);

  @custom-media --max-medium not all and (--medium);
  @custom-media --max-expanded not all and (--expanded);
  @custom-media --max-large not all and (--large);
  @custom-media --max-xlarge not all and (--xlarge);

  :root {
    --sys-navigation-drawer-width: 20rem; /* w-80 */
    --sys-header-hight: 4rem; /* h-16 */
    --sys-bottom-navigation-bar-height: 5rem; /* h-20 */
    --sys-scrollbar-size: 0; /* hide scrollbar temporary */
    @apply color-scheme-light;
  }

  @media (--expanded) {
    :root {
      --sys-navigation-drawer-width: 16rem; /* w-64 */
    }
  }
  @media (--large) {
    :root {
      --sys-navigation-drawer-width: 18rem; /* w-72 */
    }
  }
  @media (--xlarge) {
    :root {
      --sys-navigation-drawer-width: 22rem; /* w-80 */
    }
  }
}

/* Body base layout */
@layer base {
  body {
    @apply flex
      flex-col
      touch-pan-x
      touch-pan-y
      touch-pinch-zoom
      break-words
      bg-background
      font-vazirmatn
      text-bodyMedium
      text-onBackground
      pl-safe
      pr-safe
      min-h-dvh
      max-w-screen-2xl
    ;

    padding-top: calc(
      var(--safe-area-inset-top) +
      var(--sys-header-hight) + 0.25rem +
      0.5rem
    );
    padding-bottom: calc(
      0.25rem +
      var(--sys-bottom-navigation-bar-height) +
      0.25rem +
      var(--safe-area-inset-bottom)
    );

    @media (--expanded) {
      & {
        padding-right: var(--sys-navigation-drawer-width);
      }
    }
  }
}

/* Pages Header */
@layer components {
  .page-header {
    @apply fixed
      left-0
      top-0
      right-0
      z-fixed
      box-content
      pt-safe
      pb-1
      flex
      items-center
      translucent
      bg-surfaceContainer
      text-onSurface
      text-titleLarge
      select-none
    ;

    padding-left: calc(0.25rem + var(--safe-area-inset-left));
    padding-right: calc(0.25rem + var(--safe-area-inset-right));

    h1 {
      @apply shrink grow text-ellipsis px-1 pb-[2px];
    }

    height: var(--sys-header-hight);

    @media (--expanded) {
      & {
        right: var(--sys-navigation-drawer-width);
      }
    }
  }
}

/* Icon Button */
@layer components {
  .icon-btn {
    @apply flex
      items-center
      justify-center
      shrink-0
      grow-0
      cursor-pointer
      size-12
      rounded-full
      state-onSurfaceVariant
    ;
  }
}

/* Bottom Navigation Bar */
@layer components {
  .bottom-navigation-bar {
    @apply fixed
      z-fixed
      bottom-1
      pb-safe
    ;

    left: calc(0.75rem + var(--safe-area-inset-left));
    right: calc(0.75rem + var(--safe-area-inset-right));
    /* bottom: calc(0.25rem + var(--safe-area-inset-bottom)); */

    @media (--expanded) {
      & {
        right: calc(
          0.75rem +
          var(--sys-navigation-drawer-width) +
          var(--safe-area-inset-right)
        );
      }
    }

    nav {
      @apply flex
        h-20
        rounded-3xl
        items-stretch
        bg-surfaceContainer
        text-onSurfaceVariant
        text-labelMedium
        overflow-clip
        elevation-1
        max-w-screen-medium
        mx-auto
        cursor-pointer
        select-none
      ;
    }
  }
}

/* Main Container */
@layer components {
  .main-container {
    @apply flex
      flex-col
      gap-1
      extended:flex-row
      grow
      px-2
    ;

    article {
      @apply p-2 grow;
    }
  }
}

/* Support Panel */
@layer components {
  .support-panel {
    @apply shrink-0
      rounded-2xl
      select-none
      border
      border-outlineVariant
      border-opacity-40
      bg-surface
      text-bodySmall
      text-onSurfaceVariant
      elevation-1
      self-start
    ;

    @media (--expanded) {
      & {
        @apply sticky mt-[3.25rem];
        width: var(--sys-navigation-drawer-width);
        top: calc(
          var(--safe-area-inset-top) +
          var(--sys-header-hight) + 0.25rem +
          0.25rem
        );
      }
    }
  }
}
